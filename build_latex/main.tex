%! TeX program = lualatex
\documentclass[12pt, oneside]{book}

\usepackage{listings}

\pagestyle{plain}
\usepackage{pdfpages}
\usepackage{titlesec}

\usepackage[square,numbers]{natbib}
\usepackage[pdftex,bookmarks=true,bookmarksopen=false,bookmarksnumbered=true,colorlinks=true,linkcolor=blue]{hyperref}
\usepackage[utf8]{inputenc}
\usepackage{float}
\usepackage{enumerate}

%%%%%%% JULIA %%%%%%%%%%
\input{julia_font}
\input{julia_listings}
\input{julia_listings}
\input{julia_listings_unicode}

\lstdefinelanguage{JuliaLocal}{
    language = Julia, % inherit Julia lang. to add keywords
    morekeywords = [3]{thompson_sampling}, % define more functions
    morekeywords = [2]{Beta, Distributions}, % define more types and modules
}
%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%% BOOK INFORMATION %%%%%%%%%%
\newcommand{\authorname}{Name}
\newcommand{\booktitle}{Title}
\newcommand{\subtitle}{Subtitle}
\newcommand{\publisher}{TBD}
\newcommand{\editionyear}{2021}
\newcommand{\isbn}{XYZ}   % replace this with your own ISBN

\title{\booktitle}
\author{\authorname}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


\begin{document}

% \includepdf{cover.pdf}

\frontmatter
\input{frontmatter/titlepage}
\input{frontmatter/copyright}
% \include{frontmatter/preface}

\newpage
\tableofcontents

\mainmatter
\newpage

\begin{lstlisting}[language=JuliaLocal, style=julia]
using Distributions

function thompson_sampling(𝛂, 𝛃, apply; T=100)
    for t in 1:T
        𝛉 = rand.(Beta.(𝛂, 𝛃))
        x = argmax(𝛉)
        r = apply(x)
        𝛂[x], 𝛃[x] = (𝛂[x] + r, 𝛃[x] + 1 - r) # Comment
    end
    return Beta.(𝛂, 𝛃)
end
\end{lstlisting}

\bibliography{ref}

\bibliographystyle{plainnat}

\include{appendix}

\end{document}
